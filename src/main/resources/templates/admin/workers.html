<!DOCTYPE html>
<html lang="en" data-theme="light" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Workers</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/@picocss/pico@2/css/pico.min.css">
    <style>
        header{display:flex;justify-content:space-between;align-items:center;
            padding:1rem 2rem;background:#fff;box-shadow:0 2px 6px rgba(0,0,0,.05)}
        h1{margin:0;font-size:1.5rem}

        .table-wrapper{max-width:960px;margin:2rem auto}

        .actions-cell{
            display: flex;
            flex-wrap: nowrap;
            gap: .5rem;
            align-items: center;
        }
        .actions-cell a,
        .actions-cell button{
            padding: .3rem .8rem;
            font-size: .8rem;
            line-height: 1;
            white-space: nowrap;
        }
        .actions-cell form{
            margin: 0;
            display: flex;         /* The main fix */
            align-items: center;   /* The main fix */
            padding: 0;
        }
        .actions-cell button {
            vertical-align: middle;
            margin: 0;
            position: relative;
            top: 0;
        }
    </style>

</head>
<body>

<header>
    <h1>Workers</h1>
    <a href="/dashboard/admin" role="button" class="outline">← Dashboard</a>
</header>

<main class="table-wrapper container">
    <a href="/admin/workers/add" role="button" class="primary">＋ Add Worker</a>

    <table style="margin-top:1rem">
        <thead>
        <tr>
            <th>Name</th>
            <th>Surname</th>
            <th>Hourly Rate</th>
            <th>Role</th>
            <th>Status</th>
            <th style="width:180px">Action</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="w : ${workers}">
            <td th:text="${w.name}">Name</td>
            <td th:text="${w.surname}">Surname</td>
            <td th:text="${w.hourlyRate}">Hourly Rate</td>
            <td th:text="${w.role}">Role</td>
            <td th:text="${w.status}">Status</td>

            <td class="actions-cell">
                <a th:href="@{|/admin/workers/${w.id}/edit|}"
                   role="button" class="secondary">Edit</a>

                <form th:action="@{|/admin/workers/${w.id}/delete|}" method="post">
                    <button type="submit" class="outline secondary">Delete</button>
                </form>
            </td>
        </tr>
        </tbody>
    </table>
</main>

</body>
</html>
